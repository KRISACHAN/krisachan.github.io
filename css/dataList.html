<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>那个炒鸡有趣的H5标签 —— &lt;dataList&gt; | 鱼头的Web海洋</title>
    <meta name="description" content="让你的Web学习如同玩耍在海洋一样快乐" />
    <link rel="icon" href="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/base/blogfavicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.a57752fc.css" as="style"><link rel="preload" href="/assets/js/app.976f1c7d.js" as="script"><link rel="preload" href="/assets/js/20.687fbeef.js" as="script"><link rel="prefetch" href="/assets/js/2.ee28eecc.js"><link rel="prefetch" href="/assets/js/3.4f75b704.js"><link rel="prefetch" href="/assets/js/4.a5a4cae9.js"><link rel="prefetch" href="/assets/js/5.478f5ac2.js"><link rel="prefetch" href="/assets/js/6.19ef5993.js"><link rel="prefetch" href="/assets/js/7.a1cbfa26.js"><link rel="prefetch" href="/assets/js/8.e5777949.js"><link rel="prefetch" href="/assets/js/9.71b2b4f1.js"><link rel="prefetch" href="/assets/js/10.281217c4.js"><link rel="prefetch" href="/assets/js/11.a905c238.js"><link rel="prefetch" href="/assets/js/12.40cc3750.js"><link rel="prefetch" href="/assets/js/13.47fb7bfd.js"><link rel="prefetch" href="/assets/js/14.dae238a5.js"><link rel="prefetch" href="/assets/js/15.2d8a590f.js"><link rel="prefetch" href="/assets/js/16.b6f0ce0c.js"><link rel="prefetch" href="/assets/js/17.f3d4c5ac.js"><link rel="prefetch" href="/assets/js/18.aed73c09.js"><link rel="prefetch" href="/assets/js/19.0e5ddd45.js"><link rel="prefetch" href="/assets/js/21.64000084.js"><link rel="prefetch" href="/assets/js/22.aa03de05.js"><link rel="prefetch" href="/assets/js/23.dd1639e4.js"><link rel="prefetch" href="/assets/js/24.2ce29278.js"><link rel="prefetch" href="/assets/js/25.d1f0a4b3.js"><link rel="prefetch" href="/assets/js/26.434f01b1.js"><link rel="prefetch" href="/assets/js/27.97012dda.js"><link rel="prefetch" href="/assets/js/28.15e5c625.js"><link rel="prefetch" href="/assets/js/29.339fc0a5.js"><link rel="prefetch" href="/assets/js/30.09edfb03.js"><link rel="prefetch" href="/assets/js/31.d521217a.js"><link rel="prefetch" href="/assets/js/32.0a2580fe.js"><link rel="prefetch" href="/assets/js/33.aca73ce4.js"><link rel="prefetch" href="/assets/js/34.706d8a63.js"><link rel="prefetch" href="/assets/js/35.b9a59469.js"><link rel="prefetch" href="/assets/js/36.662553a3.js"><link rel="prefetch" href="/assets/js/37.ef22621f.js"><link rel="prefetch" href="/assets/js/38.1dd3271e.js"><link rel="prefetch" href="/assets/js/39.e4d173f0.js"><link rel="prefetch" href="/assets/js/40.f0603bfd.js"><link rel="prefetch" href="/assets/js/41.9f84c5ad.js"><link rel="prefetch" href="/assets/js/42.eebb1a20.js"><link rel="prefetch" href="/assets/js/43.1fab8247.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a57752fc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">鱼头的Web海洋</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!----> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>那个炒鸡有趣的H5标签 —— &lt;dataList&gt;</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/css/dataList.html#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/css/dataList.html#正文" class="sidebar-link">正文</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/css/dataList.html#datalist-是什么？" class="sidebar-link">&lt;dataList&gt;是什么？</a></li><li class="sidebar-sub-header"><a href="/css/dataList.html#搜索提示" class="sidebar-link">搜索提示</a></li><li class="sidebar-sub-header"><a href="/css/dataList.html#副标题" class="sidebar-link">副标题</a></li><li class="sidebar-sub-header"><a href="/css/dataList.html#配合js" class="sidebar-link">配合JS</a></li><li class="sidebar-sub-header"><a href="/css/dataList.html#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/css/dataList.html#后记" class="sidebar-link">后记</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="那个炒鸡有趣的h5标签-——-datalist"><a href="#那个炒鸡有趣的h5标签-——-datalist" aria-hidden="true" class="header-anchor">#</a> 那个炒鸡有趣的H5标签 —— <code>&lt;dataList&gt;</code></h1> <blockquote><ul><li>作者：陈大鱼头</li> <li>github： <a href="https://github.com/KRISACHAN" target="_blank" rel="noopener noreferrer">KRISACHAN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <p>按照<a href="https://html.spec.whatwg.org/" target="_blank" rel="noopener noreferrer">whatwg<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>文档所展示的，截至到本文截稿之前，一共有 <strong>113</strong> 个HTML标签。</p> <p>因为所出标签太多，所以我们很难都用得上或者意识到需要用。</p> <p>但其实也有许多有趣但是我们未曾发掘的标签，本文所要介绍的 <strong><code>&lt;dataList&gt;</code></strong> 便是一个。</p> <h2 id="正文"><a href="#正文" aria-hidden="true" class="header-anchor">#</a> 正文</h2> <h3 id="datalist-是什么？"><a href="#datalist-是什么？" aria-hidden="true" class="header-anchor">#</a> <code>&lt;dataList&gt;</code>是什么？</h3> <p><strong><code>&lt;dataList&gt;</code></strong> 标签一个类似于 <strong><code>&lt;select&gt;</code></strong> 标签一样可以通过包裹 <strong><code>&lt;option&gt;</code></strong> 来表示控件可选值的，唯一不同的就是 <strong><code>&lt;dataList&gt;</code></strong> 需要配合 <strong><code>&lt;input /&gt;</code></strong> 来使用，而且 <strong><code>&lt;dataList&gt;</code></strong> 不表示任何内容，仅作展示。</p> <p>我们康个栗子：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/dataList/2.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/dataList/2.gif"></p> <p>嗯，就芥末简单。</p> <p>下面是它的兼容性情况：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/dataList/1.png" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/dataList/1.png"></p> <p>（数据来自于<a href="https://caniuse.com/#search=dataList" target="_blank" rel="noopener noreferrer">Can I use dataList<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）</p> <h3 id="搜索提示"><a href="#搜索提示" aria-hidden="true" class="header-anchor">#</a> 搜索提示</h3> <p>在我们的日常开发中，如果我们要实现一个搜索框的搜索提示，实际上我们还要写一堆的事件监听跟数据绑定，但是如果使用 <strong><code>&lt;dataList&gt;</code></strong> ，就不需要那么麻烦，我们再康个栗子：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/dataList/3.gif" alt></p> <p>通过它本身的特性，我们是可以免去很多不必要的逻辑代码的，非常方便。</p> <h3 id="副标题"><a href="#副标题" aria-hidden="true" class="header-anchor">#</a> 副标题</h3> <p>我们不仅可以设置它的搜索值，也可以藉由 <strong><code>&lt;option&gt;</code></strong> 的 <strong><code>label</code></strong> 属性来设置它的副标题，再来个栗子：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/dataList/4.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/dataList/4.gif"></p> <p>所以在显示上其实是非常人性化的。</p> <h3 id="配合js"><a href="#配合js" aria-hidden="true" class="header-anchor">#</a> 配合JS</h3> <p>我们尝试下利用 <strong><code>&lt;dataList&gt;</code></strong> 来配合 JSONP 写个跨域请求百度搜索API的例子：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/dataList/5.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/dataList/5.gif"></p> <p>代码如下：</p> <div class="language-html extra-class"><pre class="language-html"><code>词条搜索：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>words<span class="token punctuation">&quot;</span></span> <span class="token attr-name">list</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>words<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>datalist</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>words<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 100px</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>datalist</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token string">'use strict'</span>
    <span class="token keyword">const</span> <span class="token function-variable function">searchCallback</span> <span class="token operator">=</span> data <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        words<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>
            s
        <span class="token punctuation">}</span> <span class="token operator">=</span> data
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
        <span class="token keyword">const</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        s<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> option <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'option'</span><span class="token punctuation">)</span>
            option<span class="token punctuation">.</span>label <span class="token operator">=</span> idx
            option<span class="token punctuation">.</span>value <span class="token operator">=</span> res
            fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        words<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> ev <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> createdScript <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span>
        createdScript<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token template-string"><span class="token string">`https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>input<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;cb=searchCallback`</span></span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>createdScript<span class="token punctuation">)</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>createdScript<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>虽然看起来跟常规的做法没有太大区别，但是利用 <strong><code>&lt;dataList&gt;</code></strong> 我们可以减少搜索框的样式以及定位编写，而且也更符合语义规范，绑定方式也很便捷。</p> <p>如果是在既定的数据源中进行搜索（例如请求数据缓存的状态），那么我们也可以减少相应filter的代码编写，是不是很方便快捷？</p> <p><strong>其实HTML里还有很多有趣的东西存在，各位读者感兴趣的话，不妨再挖掘一下，康康还有哪些有意思的标签或者属性可以玩。</strong></p> <h3 id="参考资料"><a href="#参考资料" aria-hidden="true" class="header-anchor">#</a> 参考资料</h3> <ol><li><a href="https://html.spec.whatwg.org/#the-datalist-element" target="_blank" rel="noopener noreferrer">whatwg datalist<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://html.spec.whatwg.org/multipage/input.html" target="_blank" rel="noopener noreferrer">whatwg input<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/datalist" target="_blank" rel="noopener noreferrer">MDN datalist<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h2 id="后记"><a href="#后记" aria-hidden="true" class="header-anchor">#</a> 后记</h2> <p>如果你喜欢探讨技术，或者对本文有任何的意见或建议，非常欢迎加鱼头微信好友一起探讨，当然，鱼头也非常希望能跟你一起聊生活，聊爱好，谈天说地。
鱼头的微信号是：krisChans95
也可以扫码关注公众号，订阅更多精彩内容。
公众号窗口回复『 <strong>前端资料</strong> 』，即可获取约 200M 前端面试资料，不要错过。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/qrcode-all1.png" alt></p></div> <div class="page-footer content">
    网站备案号：粤ICP备17113436号-1
  </div> <!----> <div class="right-group"><div class="item"><span class="title">加入前端鱼塘</span> <span class="desc">
        扫描二维码回复
        <span class="inner">加群</span> 学习
      </span> <img width="100%" src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/wx-qrcode.jpg"></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <div></div></div></div>
    <script src="/assets/js/20.687fbeef.js" defer></script><script src="/assets/js/app.976f1c7d.js" defer></script>
    <!-- Hotjar Tracking Code for yuchengkai.cn -->
    <script>
      var _hmt = _hmt || []
      ;(function() {
        var hm = document.createElement('script')
        hm.src = 'https://hm.baidu.com/hm.js?52ee35894430604d0d3ce3b9c089adf9'
        var s = document.getElementsByTagName('script')[0]
        s.parentNode.insertBefore(hm, s)
      })()
    </script>
  </body>
</html>

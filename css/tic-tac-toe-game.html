<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>二营长，快掏个CSS出来给我画个井字棋游戏 | 鱼头的Web海洋</title>
    <meta name="description" content="让你的Web学习如同玩耍在海洋一样快乐" />
    <link rel="icon" href="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/base/blogfavicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.a57752fc.css" as="style"><link rel="preload" href="/assets/js/app.976f1c7d.js" as="script"><link rel="preload" href="/assets/js/26.434f01b1.js" as="script"><link rel="prefetch" href="/assets/js/2.ee28eecc.js"><link rel="prefetch" href="/assets/js/3.4f75b704.js"><link rel="prefetch" href="/assets/js/4.a5a4cae9.js"><link rel="prefetch" href="/assets/js/5.478f5ac2.js"><link rel="prefetch" href="/assets/js/6.19ef5993.js"><link rel="prefetch" href="/assets/js/7.a1cbfa26.js"><link rel="prefetch" href="/assets/js/8.e5777949.js"><link rel="prefetch" href="/assets/js/9.71b2b4f1.js"><link rel="prefetch" href="/assets/js/10.281217c4.js"><link rel="prefetch" href="/assets/js/11.a905c238.js"><link rel="prefetch" href="/assets/js/12.40cc3750.js"><link rel="prefetch" href="/assets/js/13.47fb7bfd.js"><link rel="prefetch" href="/assets/js/14.dae238a5.js"><link rel="prefetch" href="/assets/js/15.2d8a590f.js"><link rel="prefetch" href="/assets/js/16.b6f0ce0c.js"><link rel="prefetch" href="/assets/js/17.f3d4c5ac.js"><link rel="prefetch" href="/assets/js/18.aed73c09.js"><link rel="prefetch" href="/assets/js/19.0e5ddd45.js"><link rel="prefetch" href="/assets/js/20.687fbeef.js"><link rel="prefetch" href="/assets/js/21.64000084.js"><link rel="prefetch" href="/assets/js/22.aa03de05.js"><link rel="prefetch" href="/assets/js/23.dd1639e4.js"><link rel="prefetch" href="/assets/js/24.2ce29278.js"><link rel="prefetch" href="/assets/js/25.d1f0a4b3.js"><link rel="prefetch" href="/assets/js/27.97012dda.js"><link rel="prefetch" href="/assets/js/28.15e5c625.js"><link rel="prefetch" href="/assets/js/29.339fc0a5.js"><link rel="prefetch" href="/assets/js/30.09edfb03.js"><link rel="prefetch" href="/assets/js/31.d521217a.js"><link rel="prefetch" href="/assets/js/32.0a2580fe.js"><link rel="prefetch" href="/assets/js/33.aca73ce4.js"><link rel="prefetch" href="/assets/js/34.706d8a63.js"><link rel="prefetch" href="/assets/js/35.b9a59469.js"><link rel="prefetch" href="/assets/js/36.662553a3.js"><link rel="prefetch" href="/assets/js/37.ef22621f.js"><link rel="prefetch" href="/assets/js/38.1dd3271e.js"><link rel="prefetch" href="/assets/js/39.e4d173f0.js"><link rel="prefetch" href="/assets/js/40.f0603bfd.js"><link rel="prefetch" href="/assets/js/41.9f84c5ad.js"><link rel="prefetch" href="/assets/js/42.eebb1a20.js"><link rel="prefetch" href="/assets/js/43.1fab8247.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a57752fc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">鱼头的Web海洋</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!----> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>二营长，快掏个CSS出来给我画个井字棋游戏</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/css/tic-tac-toe-game.html#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/css/tic-tac-toe-game.html#正文" class="sidebar-link">正文</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/css/tic-tac-toe-game.html#先手选择" class="sidebar-link">先手选择</a></li><li class="sidebar-sub-header"><a href="/css/tic-tac-toe-game.html#选择完之后呢？" class="sidebar-link">选择完之后呢？</a></li><li class="sidebar-sub-header"><a href="/css/tic-tac-toe-game.html#来画棋盘啦" class="sidebar-link">来画棋盘啦</a></li><li class="sidebar-sub-header"><a href="/css/tic-tac-toe-game.html#棋盘画好了，棋子呢？" class="sidebar-link">棋盘画好了，棋子呢？</a></li><li class="sidebar-sub-header"><a href="/css/tic-tac-toe-game.html#来啦，互相伤害啊" class="sidebar-link">来啦，互相伤害啊</a></li><li class="sidebar-sub-header"><a href="/css/tic-tac-toe-game.html#电脑方落子位置" class="sidebar-link">电脑方落子位置</a></li><li class="sidebar-sub-header"><a href="/css/tic-tac-toe-game.html#输赢判断" class="sidebar-link">输赢判断</a></li><li class="sidebar-sub-header"><a href="/css/tic-tac-toe-game.html#初始化" class="sidebar-link">初始化</a></li></ul></li><li><a href="/css/tic-tac-toe-game.html#结语" class="sidebar-link">结语</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/css/tic-tac-toe-game.html#参考资料" class="sidebar-link">参考资料</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/css/tic-tac-toe-game.html#后记" class="sidebar-link">后记</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="二营长，快掏个css出来给我画个井字棋游戏"><a href="#二营长，快掏个css出来给我画个井字棋游戏" aria-hidden="true" class="header-anchor">#</a> 二营长，快掏个CSS出来给我画个井字棋游戏</h1> <blockquote><ul><li>作者：陈大鱼头</li> <li>github： <a href="https://github.com/KRISACHAN" target="_blank" rel="noopener noreferrer">KRISACHAN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <p>不知道大家小时候有没有玩过一款游戏叫『井字棋』的。</p> <p>它长这样：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/3.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/3.gif"></p> <p>（我赢了，快夸我 ~o(´^｀)o）</p> <p>上面的就是本次文章的最终结果，一个用纯CSS实现的AI井字棋游戏，Mmmm，虽然看起来有点蠢。。。</p> <p>地址在此：</p> <p>https://codepen.io/krischan77/pen/qBdYZLy</p> <p>游戏的规则比较简单，就是在一个九宫格（据说十六宫格，二十五宫格也行~反正是格子就行），只要你下的棋能连成一条直线，就算赢。</p> <p>所以这次鱼头就来教大家怎样才能在这个游戏中获胜。</p> <p>额，不对，大雾呀~</p> <p>是怎样通过纯CSS来实现上面这个游戏~</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/4.jpeg" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/4.jpeg"></p> <h2 id="正文"><a href="#正文" aria-hidden="true" class="header-anchor">#</a> 正文</h2> <h3 id="先手选择"><a href="#先手选择" aria-hidden="true" class="header-anchor">#</a> 先手选择</h3> <p>通过开头的GIF图，我们可以看到其实这个游戏是有先手选择的。</p> <p>我们可以选择是玩家先下，还是电脑先下。</p> <p>那么如果通过单纯的HTML标签 + CSS属性，该如何完成呢？</p> <p>首先我们转换下思路，先手选择不是“我方”跟“电脑方”的选择，而是“选择我”以及“不选择我”之间两种状态的切换，那么基于这个原理，我们就很快可以联想到<code>&lt;input type=&quot;checkbox&quot;/&gt;</code></p> <p>有以下的效果：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/5.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/5.gif"></p> <p>但这里还有一个问题，就是虽然我们实现了双向选择的效果，但是开头的GIF图里先手选择是一个好看的 <strong>switch</strong> ，明显<code>&lt;input type=&quot;checkbox&quot;/&gt;</code>无法实现这个功能，那怎么呢？</p> <p>嗯，所以我们还是用JS模拟吧！</p> <p>（吃瓜群众：说好的CSS呢？给我打）</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/7.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/7.gif"></p> <p>对不起，我们可以用<code>&lt;label&gt;</code>标签来模拟。</p> <p><code>&lt;label&gt;</code>标签可以通过<code>for=&quot;#hash&quot;</code>来跟<code>&lt;input id=&quot;#hash&quot;&gt;</code>来进行关联，所以我们有以下效果：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/8.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/8.gif"></p> <p>源码如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
    <span class="token selector">.switch</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 48px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #c4d7d6<span class="token punctuation">;</span>
        <span class="token property">vertical-align</span><span class="token punctuation">:</span> bottom<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.switch::before</span> <span class="token punctuation">{</span>
        <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #2e317c<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> all 0.25s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#switch:checked ~ label[for='switch']::before</span> <span class="token punctuation">{</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #863020<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
checkbox: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switch<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>然后我们再观察图1，可以发现，当我们选择时，是可以控制“ <strong>电脑走</strong> ”的按钮的。</p> <p>那么这个又该怎么实现呢？</p> <p>CSS实现不了，我们用JS吧。</p> <p>（吃瓜群众：？？？？？？）</p> <p>秋，秋，秋得嘛跌。CSS也可以实现！</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/9.jpg" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/9.jpg"></p> <p>我们看到上面的源码中有 <strong><code>~</code></strong> 这个选择器。</p> <p>这玩意叫做“ <strong>兄弟选择器</strong> ”，可以选择同层级顺序排后的兄弟节点，而且不管距离由多远，总是心连心~。</p> <p>例如有以下HTML结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>This is not red.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Here is a paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>Here is some code.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>And here is a span.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>以下CSS：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">p ~ span</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样一样可以选中<code>&lt;code&gt;</code>后面的<code>&lt;span&gt;</code>。</p> <p>所以我们有：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/10.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/10.gif"></p> <p>代码如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
    <span class="token selector">#computer</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #131824<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #eef7f2<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> all 0.25s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#switch ~ #computer</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#switch:checked ~ #computer</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
checkbox: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switch<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>computer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>computer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>电脑走！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="选择完之后呢？"><a href="#选择完之后呢？" aria-hidden="true" class="header-anchor">#</a> 选择完之后呢？</h3> <p>我们再回过头来看图1，选择先手的功能是以弹窗的形式出现的，就是为了确保选择先手之前不污染棋盘。所以这该怎么做呢？</p> <p>通过上面的DEMO，我们发现有个<code>:checked</code>选择器，这个选择器任何可选元素的选中状态，例如<code>&lt;input type=&quot;radio&quot;&gt;</code>，<code>&lt;input type=&quot;checkbox&quot;&gt;</code>以及<code>&lt;option&gt;</code>。</p> <p>所以我们有以下效果：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/11.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/11.gif"></p> <p>代码如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
    <span class="token selector">.switch</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 48px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #c4d7d6<span class="token punctuation">;</span>
        <span class="token property">vertical-align</span><span class="token punctuation">:</span> bottom<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.switch::before</span> <span class="token punctuation">{</span>
        <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #2e317c<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> all 0.25s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#switch:checked ~ label[for='switch']::before</span> <span class="token punctuation">{</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #863020<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.btn</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #131824<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #eef7f2<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> all 0.25s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#switch ~ #computer</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#switch:checked ~ #computer</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#start:checked ~ .container</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
checkbox: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switch<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>皮皮虾，我们走<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>computer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>电脑走！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="来画棋盘啦"><a href="#来画棋盘啦" aria-hidden="true" class="header-anchor">#</a> 来画棋盘啦</h3> <p>接下来我们就是画棋盘，其实棋盘是个比较常规的九宫格，可以实现的方式有很多，不过这次鱼头要安利个gird布局在线生成的网站：<a href="http://grid.malven.co/" target="_blank" rel="noopener noreferrer">http://grid.malven.co/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/12.png" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/12.png"></p> <p>图一的DEMO布局就是用这个工具生成的，非常方便~</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/13.png" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/13.png"></p> <h3 id="棋盘画好了，棋子呢？"><a href="#棋盘画好了，棋子呢？" aria-hidden="true" class="header-anchor">#</a> 棋盘画好了，棋子呢？</h3> <p>好了，我们棋盘已经画好，那么棋子呢？</p> <p>嗯，可以去文具店花15块钱买一盒黑白棋，然后就可以下了，好了，本文完结。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/14.jpeg" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/14.jpeg"></p> <p>大雾啊~</p> <p>有了棋盘我们就应该画棋子了，棋子该怎么画呢？</p> <p>其实怎么画都不要紧，重要的是得保证每个格子都能下两方的棋子。</p> <p>在我们画棋子之前我们先谈谈<code>&lt;input /&gt;</code>的状态管理。</p> <p>作为可替换元素的<code>&lt;input /&gt;</code>，可真是个神器，因为有它以及后续浏览器对它功能的不断完善，所以也是变得越来越强大。</p> <p>根据我们以往的开发经验以及上文的描述，我们很容易就能联系到两个存储正负状态的属性<code>&lt;input type=&quot;radio&quot;&gt;</code>和<code>&lt;input type=&quot;checkbox&quot;&gt;</code>。</p> <p>以上两个不同属性的<code>&lt;input /&gt;</code>都能存储选择状态。</p> <p>唯一不同的是<code>&lt;input type=&quot;radio&quot;&gt;</code>选择状态本身是单向不可逆的，只有通过所关联的<code>&lt;input type=&quot;radio&quot;&gt;</code>才可以进行切换。</p> <p>而<code>&lt;input type=&quot;checkbox&quot;&gt;</code>则是双向可逆的，状态改变只在当前标签就可以完成。效果如下：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/15.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/15.gif"></p> <p>那么我们回到井字棋来。</p> <p>我们棋盘的每个格子会有三种状态，一个是初始时，一个是我方落子，另一个是电脑落子。</p> <p>如果以数字来表示，则有：</p> <table><thead><tr><th style="text-align:left"><strong>状态码</strong></th> <th style="text-align:left"><strong>含义</strong></th></tr></thead> <tbody><tr><td style="text-align:left">00</td> <td style="text-align:left">无子</td></tr> <tr><td style="text-align:left">01</td> <td style="text-align:left">我方落子</td></tr> <tr><td style="text-align:left">10</td> <td style="text-align:left">电脑落子</td></tr></tbody></table> <p>结合上面的信息，我们不难选出<code>&lt;input type=&quot;radio&quot;&gt;</code>来画棋子，所以我们有：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/16.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/16.gif"></p> <p>所以思路就是每个格子放两个<code>&lt;input type=&quot;radio&quot;&gt;</code>，通过选择的一个标签来确定棋子内渲染的样式。棋子样式可以随自己美化，根据需求我们来画<code>&lt;label&gt;</code>就行。</p> <p>所以我们棋盘的HTML就如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-0-X<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-0-O<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    
	......

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-board<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-grid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-grid-0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-0-X<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		......
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-computer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        电脑走！
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-0-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
		......
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>基本的棋盘布局就这么完成了，接下来就是下手规则的处理了。</p> <h3 id="来啦，互相伤害啊"><a href="#来啦，互相伤害啊" aria-hidden="true" class="header-anchor">#</a> 来啦，互相伤害啊</h3> <p>那么下面我们就一步一步的解析落子程序。</p> <p>首先我们来康康工具人标签：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-grid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-grid-0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-0-X<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>通过上面我们不难知道<code>&lt;label for=&quot;c-radio-0-X&quot;&gt;&lt;/label&gt;</code>就是落子标签，那么这个<code>&lt;div&gt;&lt;/div&gt;</code>是干啥的呢？</p> <p>你可别看这个标签都没有，像个一无所有的舔狗一样，但是需要用到它的时候，它可以马上变成一个非常有用的工具人。</p> <p>这个标签的作用就是用来承载落子的标记。</p> <p>比如我们定义己方标签的id规则是<code>input[id*='-编号-X']</code>，电脑方是<code>input[id*='-编号-0']</code>，那么我们就可以通过 <strong><code>~</code></strong> 选择器来确定这个工具人渲染的样式，例如：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">input[id*='-0-X']:checked~#c-board #c-grid-0 div::before</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'X'</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">input[id*='-0-O']:checked~#c-board #c-grid-0 div::before</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'O'</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>来到这里要格外提一点，每一个格子的<code>input[id]</code>都是 <strong>O</strong> 与 <strong>X</strong> 两个的存在，而不是同一个的原因就是为了保证状态不可逆，当 <strong>checked</strong> 之后就不让它复原。</p> <p>对，就是这样。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/17.jpg" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/17.jpg"></p> <p>我们确定了落子的渲染方式，接下来就是确定如何落子了。</p> <p>我们知道，一个格子里可以渲染<code>input[id*='-0-X']</code>以及<code>input[id*='-0-O']</code>，我们也可以通过点击来确定渲染哪一个，可是我们如何确定点击的是哪个呢？</p> <p>我们先来捋捋思路。</p> <p>首先我方下棋，这没什么问题，就跟小X王学习机一样，哪里不懂点哪里就可以，so easy~</p> <p>但是电脑方是由电脑控制，在本DEMO里，需要通过点击下方的“电脑走”按钮，来让它自动落子，所以最开始需要让它隐藏起来。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">#c-computer</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><p>还有就是我方落完子之后，这个按钮需要出现，按了之后需要隐藏，所以我们只需要交替让它显示就可以，也就是这样：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">#c-computer,
input:checked~input:checked~#c-computer,
input:checked~input:checked~input:checked~input:checked~#c-computer,
input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~#c-computer,
input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~#c-computer</span> <span class="token punctuation">{</span>
	<span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">input:checked~#c-computer,
input:checked~input:checked~input:checked~#c-computer,
input:checked~input:checked~input:checked~input:checked~input:checked~#c-computer,
input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~#c-computer</span> <span class="token punctuation">{</span>
	<span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里的意思就是我第一个<code>:checked</code>的<code>&lt;input /&gt;</code>后面的按钮要<code>display: block</code>，再来一个则要<code>display: none</code>起来，如此一个接着一个，一个接着一个，一个接着一个。。</p> <h3 id="电脑方落子位置"><a href="#电脑方落子位置" aria-hidden="true" class="header-anchor">#</a> 电脑方落子位置</h3> <p>我方落子位置可以通过我们主动点击确定，那么电脑方呢？</p> <p>毕竟是电脑，要是落子位置还要我们确定，那就尴大尬了。</p> <p>首先我们来看下电脑方相关的HTML结构。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-computer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    电脑走！
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-0-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-1-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-2-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-3-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-4-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-5-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-6-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-7-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c-radio-8-O<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>通过上面，我们可以发现，当我们点 <strong>“电脑走”</strong> 按钮时，实际上是点<code>label[for$='-O']</code>。</p> <p>但是<code>label</code>的层级结构也是确定的，那么不就很容易跟<code>label[for$='-X']</code>的位置冲突了吗？</p> <p>既然我们这里提到了 <strong>“层级”</strong> ，那么我们不难想到，可以通过<code>z-index</code>来确定点击是的是哪个<code>label</code>。</p> <p>我们看实操栗子。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/18.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/18.gif"></p> <p>所以我们就可以控制每次电脑落子的位置。</p> <p>怎么确定呢？</p> <p>我们可以根据“ <strong>玩家</strong> ”的落子位置来确定。</p> <p>比如玩家在“ <strong>0号位置</strong> ”已经有个<code>:checked</code>，那么我们就可以按照我们的想法来确定“ <strong>电脑</strong> ”的落子位置，以此类推。</p> <p>例如这样：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">#c-radio-0-X:checked~#c-radio-4-X:checked~#c-radio-8-O:checked~#c-computer label[for='c-radio-2-O'],
......</span> <span class="token punctuation">{</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#c-radio-0-O:not(:checked)~#c-radio-2-O:not(:checked)~#c-radio-4-X:checked~#c-radio-6-O:not(:checked)~#c-radio-8-O:not(:checked)~#c-computer label[for='c-radio-0-O'],
......</span> <span class="token punctuation">{</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="输赢判断"><a href="#输赢判断" aria-hidden="true" class="header-anchor">#</a> 输赢判断</h3> <p>好了，终于到了我们最后一个环节了，就是如何判断输赢。</p> <p>这部分就是通过双方落子位置来确定。</p> <p>众所周知，我们有以下几种赢法：</p> <p>以字母“ <strong>X</strong> ”代表赢的规则：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--
XXX  OOO  OOO  XOO  OXO  OOX  XOO  OOX
OOO  XXX  OOO  XOO  OXO  OOX  OXO  OXO
OOO  OOO  xxx  XOO  OXO  OOX  OOX  XOO
--&gt;</span>
</code></pre></div><p>应该没有漏吧，就是以上几种，所以我们只需要判断双方的落子是否满足以上的规则即可，所以我们有：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">#c-radio-0-X:checked~#c-radio-1-X:checked~#c-radio-2-X:checked~#c-result #c-info::before,
#c-radio-3-X:checked~#c-radio-4-X:checked~#c-radio-5-X:checked~#c-result #c-info::before,
#c-radio-6-X:checked~#c-radio-7-X:checked~#c-radio-8-X:checked~#c-result #c-info::before,
#c-radio-0-X:checked~#c-radio-3-X:checked~#c-radio-6-X:checked~#c-result #c-info::before,
#c-radio-1-X:checked~#c-radio-4-X:checked~#c-radio-7-X:checked~#c-result #c-info::before,
#c-radio-2-X:checked~#c-radio-5-X:checked~#c-radio-8-X:checked~#c-result #c-info::before,
#c-radio-0-X:checked~#c-radio-4-X:checked~#c-radio-8-X:checked~#c-result #c-info::before,
#c-radio-2-X:checked~#c-radio-4-X:checked~#c-radio-6-X:checked~#c-result #c-info::before</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'恭喜你赢了~'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#c-radio-0-O:checked~#c-radio-1-O:checked~#c-radio-2-O:checked~#c-result #c-info::before,
#c-radio-3-O:checked~#c-radio-4-O:checked~#c-radio-5-O:checked~#c-result #c-info::before,
#c-radio-6-O:checked~#c-radio-7-O:checked~#c-radio-8-O:checked~#c-result #c-info::before,
#c-radio-0-O:checked~#c-radio-3-O:checked~#c-radio-6-O:checked~#c-result #c-info::before,
#c-radio-1-O:checked~#c-radio-4-O:checked~#c-radio-7-O:checked~#c-result #c-info::before,
#c-radio-2-O:checked~#c-radio-5-O:checked~#c-radio-8-O:checked~#c-result #c-info::before,
#c-radio-0-O:checked~#c-radio-4-O:checked~#c-radio-8-O:checked~#c-result #c-info::before,
#c-radio-2-O:checked~#c-radio-4-O:checked~#c-radio-6-O:checked~#c-result #c-info::before</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'可惜你输了~'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/19.jpg" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/19.jpg"></p> <p>（吃瓜群众：“完美个头，要是没输没赢呢？”）</p> <p>要是没输没赢，没输没赢，没输没赢，该怎么办呢？没办法了，用JS吧。。。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/20.jpg" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/20.jpg"></p> <p>对不起，我错了，这个功能只需要给这个提示标签一个默认文本即可。</p> <p>当然我们得写个让提示弹窗出现的逻辑。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~input:checked~#c-result,
......</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>就是全部空格都<code>:checked</code>以及几个关键空格占满的时候，就让它展示。</p> <h3 id="初始化"><a href="#初始化" aria-hidden="true" class="header-anchor">#</a> 初始化</h3> <p>如果我们想玩下一盘该怎么办？</p> <p>刷新页面啊！！！</p> <p>（吃瓜群众：“就这？”）</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/21.jpg" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/21.jpg"></p> <p>当然不是就这啊，接下来要给大家介绍最后一个姿势：<code>&lt;input type=&quot;reset&quot;&gt;</code></p> <p><code>&lt;input type=&quot;reset&quot;&gt;</code>呈按钮状，可以一键初始化表单内所有的<code>&lt;input /&gt;</code>，就像这样</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/22.gif" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/22.gif"></p> <p>一键初始化，非常方便~</p> <h2 id="结语"><a href="#结语" aria-hidden="true" class="header-anchor">#</a> 结语</h2> <p><code>&lt;input /&gt;</code>是一个非常有用且有趣的可替换标签，业界中大部分的纯CSS游戏差不多都是用它来完成的，虽然不是特别实用，但是结合选择器，是可以帮助我们在业务中解决很多问题的。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/23.jpg" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/css/tic-tac-toe-game/23.jpg"></p> <h2 id="参考资料"><a href="#参考资料" aria-hidden="true" class="header-anchor">#</a> 参考资料</h2> <ol><li><a href="https://www.ibm.com/developerworks/cn/web/wa-css-ai-coding-tic-tac-toe-game/index.html" target="_blank" rel="noopener noreferrer">纯 CSS 井字棋：并不神秘的 CSS AI 编程之旅<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h2 id="后记"><a href="#后记" aria-hidden="true" class="header-anchor">#</a> 后记</h2> <p>如果你喜欢探讨技术，或者对本文有任何的意见或建议，非常欢迎加鱼头微信好友一起探讨，当然，鱼头也非常希望能跟你一起聊生活，聊爱好，谈天说地。
鱼头的微信号是：krisChans95
也可以扫码关注公众号，订阅更多精彩内容。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/qrcode-all1.png" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/qrcode-all1.png"></p></div> <div class="page-footer content">
    网站备案号：粤ICP备17113436号-1
  </div> <!----> <div class="right-group"><div class="item"><span class="title">加入前端鱼塘</span> <span class="desc">
        扫描二维码回复
        <span class="inner">加群</span> 学习
      </span> <img width="100%" src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/wx-qrcode.jpg"></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <div></div></div></div>
    <script src="/assets/js/26.434f01b1.js" defer></script><script src="/assets/js/app.976f1c7d.js" defer></script>
    <!-- Hotjar Tracking Code for yuchengkai.cn -->
    <script>
      var _hmt = _hmt || []
      ;(function() {
        var hm = document.createElement('script')
        hm.src = 'https://hm.baidu.com/hm.js?52ee35894430604d0d3ce3b9c089adf9'
        var s = document.getElementsByTagName('script')[0]
        s.parentNode.insertBefore(hm, s)
      })()
    </script>
  </body>
</html>

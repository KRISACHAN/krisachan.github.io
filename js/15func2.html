<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>【适合收藏】为了多点时间陪女朋友，我向BAT大佬跪求了这15条JS技巧 | 鱼头的Web海洋</title>
    <meta name="description" content="让你的Web学习如同玩耍在海洋一样快乐" />
    <link rel="icon" href="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/base/blogfavicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.a57752fc.css" as="style"><link rel="preload" href="/assets/js/app.57570d6a.js" as="script"><link rel="preload" href="/assets/js/29.c960b453.js" as="script"><link rel="prefetch" href="/assets/js/2.ee28eecc.js"><link rel="prefetch" href="/assets/js/3.4f75b704.js"><link rel="prefetch" href="/assets/js/4.a5a4cae9.js"><link rel="prefetch" href="/assets/js/5.478f5ac2.js"><link rel="prefetch" href="/assets/js/6.19ef5993.js"><link rel="prefetch" href="/assets/js/7.a1cbfa26.js"><link rel="prefetch" href="/assets/js/8.e5777949.js"><link rel="prefetch" href="/assets/js/9.71b2b4f1.js"><link rel="prefetch" href="/assets/js/10.281217c4.js"><link rel="prefetch" href="/assets/js/11.a905c238.js"><link rel="prefetch" href="/assets/js/12.40cc3750.js"><link rel="prefetch" href="/assets/js/13.47fb7bfd.js"><link rel="prefetch" href="/assets/js/14.dae238a5.js"><link rel="prefetch" href="/assets/js/15.2d8a590f.js"><link rel="prefetch" href="/assets/js/16.b6f0ce0c.js"><link rel="prefetch" href="/assets/js/17.f3d4c5ac.js"><link rel="prefetch" href="/assets/js/18.aed73c09.js"><link rel="prefetch" href="/assets/js/19.0e5ddd45.js"><link rel="prefetch" href="/assets/js/20.687fbeef.js"><link rel="prefetch" href="/assets/js/21.64000084.js"><link rel="prefetch" href="/assets/js/22.aa03de05.js"><link rel="prefetch" href="/assets/js/23.dd1639e4.js"><link rel="prefetch" href="/assets/js/24.2ce29278.js"><link rel="prefetch" href="/assets/js/25.d1f0a4b3.js"><link rel="prefetch" href="/assets/js/26.434f01b1.js"><link rel="prefetch" href="/assets/js/27.97012dda.js"><link rel="prefetch" href="/assets/js/28.15e5c625.js"><link rel="prefetch" href="/assets/js/30.85c97cf8.js"><link rel="prefetch" href="/assets/js/31.ec884450.js"><link rel="prefetch" href="/assets/js/32.4b0a7f48.js"><link rel="prefetch" href="/assets/js/33.3debabda.js"><link rel="prefetch" href="/assets/js/34.c50863e1.js"><link rel="prefetch" href="/assets/js/35.a86e45fc.js"><link rel="prefetch" href="/assets/js/36.5e19dab7.js"><link rel="prefetch" href="/assets/js/37.f3e0ce8a.js"><link rel="prefetch" href="/assets/js/38.b445223b.js"><link rel="prefetch" href="/assets/js/39.4ba6559d.js"><link rel="prefetch" href="/assets/js/40.69d0c7e0.js"><link rel="prefetch" href="/assets/js/41.47a24dd8.js"><link rel="prefetch" href="/assets/js/42.07190c73.js"><link rel="prefetch" href="/assets/js/43.180079e5.js"><link rel="prefetch" href="/assets/js/44.17333f3b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a57752fc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">鱼头的Web海洋</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!----> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>【适合收藏】为了多点时间陪女朋友，我向BAT大佬跪求了这15条JS技巧</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/js/15func2.html#正文" class="sidebar-link">正文</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/15func2.html#返回日期数列里与目标数列最近的日期下标" class="sidebar-link">返回日期数列里与目标数列最近的日期下标</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#返回日期数列里最小的日期" class="sidebar-link">返回日期数列里最小的日期</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#打乱数组" class="sidebar-link">打乱数组</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#判断是否支持webp图片格式" class="sidebar-link">判断是否支持webp图片格式</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#判断是否是url" class="sidebar-link">判断是否是url</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#判断是否是emoji" class="sidebar-link">判断是否是emoji</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#连字符转驼峰" class="sidebar-link">连字符转驼峰</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#驼峰转连字符" class="sidebar-link">驼峰转连字符</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#等级判断" class="sidebar-link">等级判断</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#事件模拟触发" class="sidebar-link">事件模拟触发</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#判断dom是否相等" class="sidebar-link">判断dom是否相等</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#多属性双向绑定" class="sidebar-link">多属性双向绑定</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#获取指定范围内的随机数" class="sidebar-link">获取指定范围内的随机数</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#文件尺寸格式化" class="sidebar-link">文件尺寸格式化</a></li><li class="sidebar-sub-header"><a href="/js/15func2.html#获取数组前-后指定数量元素" class="sidebar-link">获取数组前/后指定数量元素</a></li></ul></li><li><a href="/js/15func2.html#后记" class="sidebar-link">后记</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="【适合收藏】为了多点时间陪女朋友，我向bat大佬跪求了这15条js技巧"><a href="#【适合收藏】为了多点时间陪女朋友，我向bat大佬跪求了这15条js技巧" aria-hidden="true" class="header-anchor">#</a> 【适合收藏】为了多点时间陪女朋友，我向BAT大佬跪求了这15条JS技巧</h1> <blockquote><ul><li>作者：陈大鱼头</li> <li>github： <a href="https://github.com/KRISACHAN" target="_blank" rel="noopener noreferrer">KRISACHAN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <p>为了减少加班，从而挤出更多的时间来陪女朋友，我就厚着脸皮向一些BAT大佬求来了这15条JS技巧，现在分享给大家，千万别错过。</p> <h2 id="正文"><a href="#正文" aria-hidden="true" class="header-anchor">#</a> 正文</h2> <h3 id="返回日期数列里与目标数列最近的日期下标"><a href="#返回日期数列里与目标数列最近的日期下标" aria-hidden="true" class="header-anchor">#</a> 返回日期数列里与目标数列最近的日期下标</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getNearestDateIndex</span> <span class="token operator">=</span> <span class="token punctuation">(</span>targetDate<span class="token punctuation">,</span> dates<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>targetDate <span class="token operator">||</span> <span class="token operator">!</span>dates<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Argument(s) is illegal !'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dates<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> distances <span class="token operator">=</span> dates<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>date <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>date <span class="token operator">-</span> targetDate<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> distances<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>distances<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// e.g.</span>
<span class="token keyword">const</span> targetDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> dates <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token function">getNearestDateIndex</span><span class="token punctuation">(</span>targetDate<span class="token punctuation">,</span> dates<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><h3 id="返回日期数列里最小的日期"><a href="#返回日期数列里最小的日期" aria-hidden="true" class="header-anchor">#</a> 返回日期数列里最小的日期</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getMinDate</span> <span class="token operator">=</span> dates <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dates<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Argument(s) is illegal !'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dates<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dates
	<span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>min<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> dates<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// e.g.</span>
<span class="token keyword">const</span> dates <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token function">getMinDate</span><span class="token punctuation">(</span>dates<span class="token punctuation">)</span> <span class="token comment">// 2018-04-09T16:00:00.000Z</span>
</code></pre></div><h3 id="打乱数组"><a href="#打乱数组" aria-hidden="true" class="header-anchor">#</a> 打乱数组</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">arrayShuffle</span> <span class="token operator">=</span> array <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Argument must be an array'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
    <span class="token keyword">let</span> end <span class="token operator">=</span> array<span class="token punctuation">.</span>length
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> array
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> start <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> end<span class="token operator">--</span><span class="token punctuation">)</span>
        <span class="token punctuation">;</span><span class="token punctuation">[</span>array<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">,</span> array<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>array<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">,</span> array<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> array
<span class="token punctuation">}</span>

<span class="token comment">// e.g.</span>
<span class="token function">arrayShuffle</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="判断是否支持webp图片格式"><a href="#判断是否支持webp图片格式" aria-hidden="true" class="header-anchor">#</a> 判断是否支持webp图片格式</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">canUseWebp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">'image/webp'</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'data:image/webp'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">// e.g.</span>
<span class="token function">canUseWebp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 新版的chrome里为true，火狐里为false</span>
</code></pre></div><h3 id="判断是否是url"><a href="#判断是否是url" aria-hidden="true" class="header-anchor">#</a> 判断是否是url</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">isUrl</span> <span class="token operator">=</span> str <span class="token operator">=&gt;</span> <span class="token regex">/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:/~+#-]*[\w@?^=%&amp;/~+#-])?$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>

<span class="token comment">// e.g.</span>
<span class="token function">isUrl</span><span class="token punctuation">(</span><span class="token string">'https://www.baidu.com'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isUrl</span><span class="token punctuation">(</span><span class="token string">'https://www'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="判断是否是emoji"><a href="#判断是否是emoji" aria-hidden="true" class="header-anchor">#</a> 判断是否是emoji</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">isEmoji</span> <span class="token operator">=</span> str <span class="token operator">=&gt;</span> <span class="token regex">/(\ud83c[\udf00-\udfff])|(\ud83d[\udc00-\ude4f\ude80-\udeff])|[\u2600-\u2B55]/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>

<span class="token comment">// e.g.</span>
<span class="token function">isEmoji</span><span class="token punctuation">(</span><span class="token string">'🌏'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isEmoji</span><span class="token punctuation">(</span><span class="token string">'earth'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="连字符转驼峰"><a href="#连字符转驼峰" aria-hidden="true" class="header-anchor">#</a> 连字符转驼峰</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> toCamelCase <span class="token operator">=</span> <span class="token punctuation">(</span>str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> separator <span class="token operator">=</span> <span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> str <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Argument must be a string'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> str
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> newExp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\-\(\\w\)'</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>newExp<span class="token punctuation">,</span> <span class="token punctuation">(</span>matched<span class="token punctuation">,</span> $<span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token number">1.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// e.g.</span>
<span class="token function">toCamelCase</span><span class="token punctuation">(</span><span class="token string">'hello-world'</span><span class="token punctuation">)</span> <span class="token comment">// helloWorld</span>
</code></pre></div><h3 id="驼峰转连字符"><a href="#驼峰转连字符" aria-hidden="true" class="header-anchor">#</a> 驼峰转连字符</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> fromCamelCase <span class="token operator">=</span> <span class="token punctuation">(</span>str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> separator <span class="token operator">=</span> <span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> str <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Argument must be a string'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> str
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/([A-Z])/g</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>separator<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">$1`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// e.g.</span>
<span class="token function">fromCamelCase</span><span class="token punctuation">(</span><span class="token string">'helloWorld'</span><span class="token punctuation">)</span> <span class="token comment">// hello-world</span>
</code></pre></div><h3 id="等级判断"><a href="#等级判断" aria-hidden="true" class="header-anchor">#</a> 等级判断</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> getLevel <span class="token operator">=</span> <span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> ratio <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span> levels <span class="token operator">=</span> <span class="token string">'一二三四五'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Argument must be a number'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> levelHash <span class="token operator">=</span> levels<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> max <span class="token operator">=</span> levelHash<span class="token punctuation">[</span>levelHash<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> levelHash<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>value <span class="token operator">/</span> ratio<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">||</span> max
<span class="token punctuation">}</span>

<span class="token comment">// e.g.</span>
<span class="token function">getLevel1</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 一</span>
<span class="token function">getLevel1</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token comment">// 一</span>
<span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token number">77</span><span class="token punctuation">)</span> <span class="token comment">// 二</span>
</code></pre></div><h3 id="事件模拟触发"><a href="#事件模拟触发" aria-hidden="true" class="header-anchor">#</a> 事件模拟触发</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> ev <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'biu'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchmove'</span><span class="token punctuation">,</span> ev <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    body<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token comment">// 这时候在移动端下滑动手指的时候就会触发click事件</span>
</code></pre></div><h3 id="判断dom是否相等"><a href="#判断dom是否相等" aria-hidden="true" class="header-anchor">#</a> 判断dom是否相等</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">isEqualNode</span> <span class="token operator">=</span> <span class="token punctuation">(</span>dom1<span class="token punctuation">,</span> dom2<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> dom1<span class="token punctuation">.</span><span class="token function">isEqualNode</span><span class="token punctuation">(</span>dom2<span class="token punctuation">)</span>

<span class="token comment">/*
    &lt;div&gt;这是第一个div&lt;/div&gt;
    &lt;div&gt;这是第二个div&lt;/div&gt;
    &lt;div&gt;这是第一个div&lt;/div&gt;
*/</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>一<span class="token punctuation">,</span> 二<span class="token punctuation">,</span> 三<span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>

<span class="token comment">// e.g.</span>
<span class="token function">isEqualNode</span><span class="token punctuation">(</span>一<span class="token punctuation">,</span> 二<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">isEqualNode</span><span class="token punctuation">(</span>一<span class="token punctuation">,</span> 三<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isEqualNode</span><span class="token punctuation">(</span>二<span class="token punctuation">,</span> 三<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="多属性双向绑定"><a href="#多属性双向绑定" aria-hidden="true" class="header-anchor">#</a> 多属性双向绑定</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/*
    &lt;div id=&quot;box&quot; class=&quot;box&quot; style=&quot;border: 1px solid; width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;
    &lt;output id=&quot;ouput&quot; name=&quot;output&quot;&gt;&lt;/output&gt;
*/</span>

<span class="token keyword">const</span> keys <span class="token operator">=</span> Object
<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>attributes<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">,</span> value<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">,</span> value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> cacheData <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> properties <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> cur<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    cacheData<span class="token punctuation">[</span>cur<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> box<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span>cur<span class="token punctuation">.</span>name<span class="token punctuation">]</span>
    obj<span class="token punctuation">[</span>cur<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> cacheData<span class="token punctuation">[</span>cur<span class="token punctuation">.</span>name<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">set</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            output<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cur<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
            cacheData<span class="token punctuation">[</span>cur<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> data
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>acc<span class="token punctuation">,</span>
        <span class="token operator">...</span>obj
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>box<span class="token punctuation">,</span> properties<span class="token punctuation">)</span>

<span class="token comment">// 当我们修改input相应的属性时，output文字就会变成修改的内容</span>
</code></pre></div><h3 id="获取指定范围内的随机数"><a href="#获取指定范围内的随机数" aria-hidden="true" class="header-anchor">#</a> 获取指定范围内的随机数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getRandom</span> <span class="token operator">=</span> <span class="token punctuation">(</span>min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> min <span class="token operator">!==</span> <span class="token string">'number'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> max <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Argument(s) is illegal !'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>min<span class="token punctuation">,</span> max<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>max<span class="token punctuation">,</span> min<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// e.g.</span>
<span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// 89</span>
<span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// 5</span>
</code></pre></div><h3 id="文件尺寸格式化"><a href="#文件尺寸格式化" aria-hidden="true" class="header-anchor">#</a> 文件尺寸格式化</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">formatSize</span> <span class="token operator">=</span> size <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token operator">+</span>size <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Argument(s) is illegal !'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
    <span class="token keyword">const</span> unitsHash <span class="token operator">=</span> <span class="token string">'B,KB,MB,GB'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;</span> <span class="token number">1024</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> unitsHash<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        size <span class="token operator">/=</span> <span class="token number">1024</span>
        index<span class="token operator">++</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>size <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span> <span class="token operator">+</span> unitsHash<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token function">formatSize</span><span class="token punctuation">(</span><span class="token string">'10240'</span><span class="token punctuation">)</span> <span class="token comment">// 10KB</span>
<span class="token function">formatSize</span><span class="token punctuation">(</span><span class="token string">'10240000'</span><span class="token punctuation">)</span> <span class="token comment">// 9.77MB</span>
</code></pre></div><h3 id="获取数组前-后指定数量元素"><a href="#获取数组前-后指定数量元素" aria-hidden="true" class="header-anchor">#</a> 获取数组前/后指定数量元素</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arrayRange <span class="token operator">=</span> <span class="token punctuation">(</span>array<span class="token punctuation">,</span> index<span class="token punctuation">,</span> distance <span class="token operator">=</span> <span class="token string">'+'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> index <span class="token operator">!==</span> <span class="token string">'number'</span> <span class="token operator">||</span> index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Argument(s) is illegal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> array<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>distance<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">arrayRange</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;a&quot;, &quot;b&quot;]</span>
<span class="token function">arrayRange</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;a&quot;]</span>
</code></pre></div><h2 id="后记"><a href="#后记" aria-hidden="true" class="header-anchor">#</a> 后记</h2> <p>以上15个JS技巧是鱼头辛苦从几位大厂大佬里跪求出来的，希望各位可以好好运用在业务中，减少加班次数。</p> <p>如果你喜欢探讨技术，或者对本文有任何的意见或建议，非常欢迎加鱼头微信好友一起探讨，当然，鱼头也非常希望能跟你一起聊生活，聊爱好，谈天说地。
鱼头的微信号是：krisChans95
也可以扫码关注公众号，订阅更多精彩内容。
<img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/qrcode-all1.png" alt="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/qrcode-all1.png"></p></div> <div class="page-footer content">
    网站备案号：粤ICP备17113436号-1
  </div> <!----> <div class="right-group"><div class="item"><span class="title">加入前端鱼塘</span> <span class="desc">
        扫描二维码回复
        <span class="inner">加群</span> 学习
      </span> <img width="100%" src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/wx-qrcode.jpg"></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <div></div></div></div>
    <script src="/assets/js/29.c960b453.js" defer></script><script src="/assets/js/app.57570d6a.js" defer></script>
    <!-- Hotjar Tracking Code for yuchengkai.cn -->
    <script>
      var _hmt = _hmt || []
      ;(function() {
        var hm = document.createElement('script')
        hm.src = 'https://hm.baidu.com/hm.js?52ee35894430604d0d3ce3b9c089adf9'
        var s = document.getElementsByTagName('script')[0]
        s.parentNode.insertBefore(hm, s)
      })()
    </script>
  </body>
</html>

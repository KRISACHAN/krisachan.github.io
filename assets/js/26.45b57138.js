(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{182:function(t,s,a){"use strict";a.r(s);var n=a(0),r=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("作者：陈大鱼头")]),t._v(" "),a("li",[t._v("github： "),a("a",{attrs:{href:"https://github.com/KRISACHAN",target:"_blank",rel:"noopener noreferrer"}},[t._v("KRISACHAN"),a("OutboundLink")],1)])])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),a("p",[t._v("执行过程：")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("执行过程：")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),a("p",[t._v("执行过程：")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("示例如下：")]),t._v(" "),t._m(18),t._m(19),t._v(" "),a("p",[t._v("上面是 "),a("a",{attrs:{href:"https://www.ecma-international.org/ecma-262/9.0/index.html#sec-array-constructor",target:"_blank",rel:"noopener noreferrer"}},[t._v("ECMA"),a("OutboundLink")],1),t._v(" 上的定义以及 "),a("strong",[t._v("V8")]),t._v(" 源码的容错处理，其实简单来说就是：")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("首先我们要知道，在 JS 中类型转换只有三种情况，分别是：")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),a("p",[t._v("其算法如下：")]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._m(30),t._v(" "),a("p",[t._v("对象转换为布尔值的规则如下表：")]),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),a("p",[t._v("对象转换为数字的规则如下表：")]),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),a("p",[t._v("对象转换为字符串的规则如下表：")]),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),a("p",[t._v("所以通过上面的转换规则，我们是否能够轻松地看懂以下的隐式转换呢？")]),t._v(" "),t._m(37),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._m(44),t._v(" "),t._m(45),a("p",[t._v("所以如果我们要实现以下这个功能：")]),t._v(" "),t._m(46),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),a("p",[t._v("如果我们需要实现一个这样的对象：")]),t._v(" "),t._m(50),a("p",[t._v("那么用reduce就会变得很简单：")]),t._v(" "),t._m(51),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),a("p",[t._v("所以哪个更耗时间呢？")]),t._v(" "),t._m(55),t._v(" "),a("p",[t._v("详情可以看知乎的这篇评论："),a("a",{attrs:{href:"https://www.zhihu.com/question/54637225/answer/140362071",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.zhihu.com/question/54637225/answer/140362071"),a("OutboundLink")],1)]),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),a("img",{staticStyle:{display:"block"},attrs:{src:t.$withBase("/img/js/1.png")}}),t._v(" "),a("p",[t._v("所以在9012年的如今，结果又会是如何呢？")]),t._v(" "),t._m(58),t._v(" "),a("img",{staticStyle:{display:"block"},attrs:{src:t.$withBase("/img/js/2.png")}}),t._v(" "),a("p",[t._v("通过上面的对比，结果已经很明显了，我们要知道，现代的浏览器性能优化已经做得比以前好很多了，再加上电子设备本身的硬件也越来越好，所以代码块的性能不是我们首要的考虑因素。")]),t._v(" "),a("p",[t._v("在跟同行沟通的过程中，经常会看到有人为了扣那么一个两个表达式的性能而烦恼，其实是这是没有任何必要，原因也如上，我们应该优化的是我们表达式是否清晰明了，是否适合后期维护或拓展。")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v("\n如果你、喜欢探讨技术，或者对本文有任何的意见或建议，你可以扫描下方二维码，关注微信公众号“"),a("b",[t._v("鱼头的Web海洋")]),t._v("”，随时与鱼头互动。欢迎！衷心希望可以遇见你。\n"),a("br"),t._v(" "),a("br"),t._v(" "),a("img",{staticStyle:{margin:"24px auto",display:"block","font-size":"0","vertical-align":"middle",width:"100%"},attrs:{src:t.$withBase("/img/qrcode-base.png")}})])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"js数组中那些你知道或不知道的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js数组中那些你知道或不知道的","aria-hidden":"true"}},[this._v("#")]),this._v(" JS数组中那些你知道或不知道的")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"js中的array"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js中的array","aria-hidden":"true"}},[this._v("#")]),this._v(" JS中的Array")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("blockquote",[a("p",[t._v("ecma-262中的定义：")]),t._v(" "),a("p",[a("strong",[t._v("Array对象")]),t._v("是一种特殊对象，它会对"),a("strong",[t._v("数组索引属性键")]),t._v("进行特殊处理。")]),t._v(" "),a("p",[t._v("每个"),a("strong",[t._v("Array对象")]),t._v("都有一个不可配置的"),a("strong",[t._v("length")]),t._v("属性，其最大值是"),a("strong",[t._v("2"),a("sup",[t._v("32")]),t._v(" - 1")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"array"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#array","aria-hidden":"true"}},[this._v("#")]),this._v(" Array()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("当且仅当不带参数调用Array构造函数时，此描述才适用。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("定义 "),a("strong",[t._v("numberOfArgs")]),t._v(" 传递给此函数的调用的实参数量；")]),t._v(" "),a("li",[t._v("断言： "),a("strong",[t._v("numberOfArgs")]),t._v(" 为 0；")]),t._v(" "),a("li",[t._v("如果 "),a("strong",[t._v("NewTarget")]),t._v(" 为 "),a("strong",[t._v("undefined")]),t._v(" ，就设置 "),a("strong",[t._v("newTarget")]),t._v(" 为 "),a("strong",[t._v("活动函数对象（active-function-object，正在运行的执行上下文的函数组件）")]),t._v(" ，并且让 "),a("strong",[t._v("newTarget")]),t._v(" 成为 "),a("strong",[t._v("NewTarget")]),t._v(" ；")]),t._v(" "),a("li",[t._v("原型 "),a("strong",[t._v("proto")]),t._v(" 怎么办？通过原生方法"),a("code",[t._v('GetPrototypeFromConstructor(newTarget, "%ArrayPrototype%")')]),t._v("来构造；")]),t._v(" "),a("li",[t._v("返回原生方法"),a("code",[t._v("ArrayCreate(0, proto)")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("鱼头注：NewTarget是啥？NewTarget是原生Class FunctionCallbackInfo（函数调用的callback上下文的信息）内的一个不变量，用来定义构造调用时的返回值（new.target）。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"array-len"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#array-len","aria-hidden":"true"}},[this._v("#")]),this._v(" Array(len)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("当且仅当使用一个参数调用Array构造函数时，此描述才适用。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("定义 "),a("strong",[t._v("numberOfArgs")]),t._v(" 为传递给此函数的调用的实参数量；")]),t._v(" "),a("li",[t._v("断言： "),a("strong",[t._v("numberOfArgs")]),t._v(" 为1；")]),t._v(" "),a("li",[t._v("如果 "),a("strong",[t._v("NewTarget")]),t._v(" 为 "),a("strong",[t._v("undefined")]),t._v(" ，就设置 "),a("strong",[t._v("newTarget")]),t._v(" 为 "),a("strong",[t._v("活动函数对象")]),t._v(" ，并且让 "),a("strong",[t._v("newTarget")]),t._v(" 成为 "),a("strong",[t._v("NewTarget")]),t._v(" ；")]),t._v(" "),a("li",[t._v("原型 "),a("strong",[t._v("proto")]),t._v(" 怎么办？通过原生方法"),a("code",[t._v('GetPrototypeFromConstructor(newTarget, "%ArrayPrototype%")')]),t._v("来构造；")]),t._v(" "),a("li",[t._v("然后定义"),a("strong",[t._v("array")]),t._v(" 为"),a("code",[t._v("ArrayCreate(0, proto)")]),t._v("；")]),t._v(" "),a("li",[t._v("如果 "),a("strong",[t._v("len")]),t._v(" 的类型不是个"),a("strong",[t._v("Number")]),t._v("，则：\n"),a("ol",[a("li",[t._v("定义 "),a("strong",[t._v("defineStatus")]),t._v(" 为"),a("strong",[t._v('CreateDataProperty(array, "0", len)')]),t._v("；")]),t._v(" "),a("li",[t._v("断言："),a("strong",[t._v("defineStatus")]),t._v("为真；")]),t._v(" "),a("li",[t._v("让 "),a("strong",[t._v("intLen（初始化长度）")]),t._v(" 为1。")])])]),t._v(" "),a("li",[t._v("或者：\n"),a("ol",[a("li",[t._v("定义"),a("strong",[t._v("intLen")]),t._v("为"),a("strong",[t._v("ToUint32(len)（原生方法，将len转换成0到2"),a("sup",[t._v("32")]),t._v("-1之间的整数值）")]),t._v("；")]),t._v(" "),a("li",[t._v("如果"),a("strong",[t._v("intLen")]),t._v("不等于"),a("strong",[t._v("len")]),t._v("，抛出"),a("strong",[t._v("RangeError")]),t._v("异常。")])])]),t._v(" "),a("li",[t._v("执行"),a("strong",[t._v('Set(array, "length", intLen, true)（原生方法，给对象的属性赋值）')]),t._v("；")]),t._v(" "),a("li",[t._v("返回"),a("strong",[t._v("array")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"array-items"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#array-items","aria-hidden":"true"}},[this._v("#")]),this._v(" Array(...items)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("当且仅当使用至少两个参数调用Array构造函数时，此描述才适用。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("定义 "),a("strong",[t._v("numberOfArgs")]),t._v(" 为传递给此函数的调用的实参数量；")]),t._v(" "),a("li",[t._v("断言： "),a("strong",[t._v("numberOfArgs")]),t._v(" 大于等于2；")]),t._v(" "),a("li",[t._v("如果 "),a("strong",[t._v("NewTarget")]),t._v(" 为 "),a("strong",[t._v("undefined")]),t._v(" ，就设置 "),a("strong",[t._v("newTarget")]),t._v(" 为 "),a("strong",[t._v("活动函数对象")]),t._v(" ，并且让 "),a("strong",[t._v("newTarget")]),t._v(" 成为 "),a("strong",[t._v("NewTarget")]),t._v(" ；")]),t._v(" "),a("li",[t._v("原型 "),a("strong",[t._v("proto")]),t._v(" 怎么办？通过原生方法"),a("code",[t._v('GetPrototypeFromConstructor(newTarget, "%ArrayPrototype%")')]),t._v("来构造；")]),t._v(" "),a("li",[t._v("然后定义"),a("strong",[t._v("array")]),t._v(" 为"),a("code",[t._v("ArrayCreate(numberOfArgs, proto)")]),t._v("；")]),t._v(" "),a("li",[t._v("定义 "),a("strong",[t._v("k")]),t._v(" 为0；")]),t._v(" "),a("li",[t._v("定义 "),a("strong",[t._v("items")]),t._v("为 正序传入参数的 "),a("strong",[t._v("零源（zero-origined）")]),t._v(" 列表；")]),t._v(" "),a("li",[t._v("重复，当 "),a("strong",[t._v("k")]),t._v(" 小于 "),a("strong",[t._v("numberOfArgs")]),t._v(" "),a("ol",[a("li",[t._v("定义 "),a("strong",[t._v("Pk")]),t._v(" 为 "),a("strong",[t._v("ToSting(k)")]),t._v("；")]),t._v(" "),a("li",[t._v("定义 "),a("strong",[t._v("itemK")]),t._v(" 为 "),a("strong",[t._v("item[k]")]),t._v("；")]),t._v(" "),a("li",[t._v("定义 "),a("strong",[t._v("defineStatus")]),t._v(" 为"),a("strong",[t._v("CreateDataProperty(array, Pk, itemK)")]),t._v(";")]),t._v(" "),a("li",[t._v("断言："),a("strong",[t._v("defineStatus")]),t._v("为真；")]),t._v(" "),a("li",[a("strong",[t._v("k")]),t._v(" 加1。")])])]),t._v(" "),a("li",[t._v("断言： "),a("strong",[t._v("array")]),t._v("的 "),a("strong",[t._v("length")]),t._v(" 值为 "),a("strong",[t._v("numberOfArgs")]),t._v("；")]),t._v(" "),a("li",[t._v("返回 "),a("strong",[t._v("array")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"empty"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#empty","aria-hidden":"true"}},[this._v("#")]),this._v(" empty")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("上面的三种情况以上便是构造Array()时不同情况的具体实现。但是我们从上面的断言可以知道，构造结果有可能为真，有可能为假。还有是定义指定长度数组时会出现什么事呢？")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在"),s("strong",[this._v("V8源码 3.28.71(node0.12.18)"),s("strong",[this._v("中 "),s("strong",[this._v("Array")]),this._v(" 有个")]),this._v("CloneElementAt")]),this._v("的方法。定义如下：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("在指定索引处克隆元素时，如果克隆失败，则返回一个空句柄（任何原因）。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("从这句话我们可以知道，当我们构造一个指定长度的 "),s("strong",[this._v("Array")]),this._v(" 时，由于有长度，所以会开辟相应下标的空间，但是因为该下标并没有元素，所以就会返回"),s("strong",[this._v("empty")]),this._v("，任何原因构造数组元素失败时，都会返回一个"),s("strong",[this._v("empty")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Array")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("10")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\narr "),a("span",{attrs:{class:"token comment"}},[t._v("// [empty × 10]")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"以上总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以上总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 以上总结")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("调用 "),s("code",[this._v("Array(args)")]),this._v(" 时：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("用原生方法 "),a("code",[t._v("GetPrototypeFromConstructor")]),t._v(" 生成原型 "),a("code",[t._v("proto")]),t._v(" ；")]),t._v(" "),a("li",[t._v("判断 "),a("code",[t._v("args")]),t._v(" 的类型；")]),t._v(" "),a("li",[t._v("如果为 "),a("code",[t._v("undefined")]),t._v("，则直接返回创建数组的原生方法 "),a("code",[t._v("ArrayCreate")]),t._v("；")]),t._v(" "),a("li",[t._v("如果为 "),a("code",[t._v("number")]),t._v("，则用原生方法 "),a("code",[t._v("Set")]),t._v(" 创建 "),a("code",[t._v("args")]),t._v(" 长度的数组，并通过原生方法 "),a("code",[t._v("CloneElementAt")]),t._v(" 来创建 "),a("strong",[t._v("args")]),t._v(" 个 "),a("strong",[t._v("empty")]),t._v(" 作为数组元素，如果"),a("code",[t._v("args")]),t._v(" 大于 "),a("strong",[t._v("2"),a("sup",[t._v("32")]),t._v(" - 1")]),t._v(" 的话，会报错；")]),t._v(" "),a("li",[t._v("如果为其他类型，则把 "),a("code",[t._v("args")]),t._v(" 变成数组元素，并用 原生方法 "),a("code",[t._v("CreateDataProperty")]),t._v(" 创建参数，然后返回创建数组的原生方法 "),a("code",[t._v("ArrayCreate")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"类型转换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类型转换","aria-hidden":"true"}},[this._v("#")]),this._v(" 类型转换")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("类型转换是一个经常出现在一些网上常见面试题或者奇技淫巧中的内容。那么关于数组的类型转换，又是怎样的呢？")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("转换为布尔值")]),this._v(" "),s("li",[this._v("转换为数字")]),this._v(" "),s("li",[this._v("转换为字符串")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"转换为原始类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#转换为原始类型","aria-hidden":"true"}},[this._v("#")]),this._v(" 转换为原始类型")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("对象在转换类型的时候，会执行原生方法"),s("strong",[this._v("ToPrimitive")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("如果已经是 "),a("strong",[t._v("原始类型")]),t._v("，则返回当前值；")]),t._v(" "),a("li",[t._v("如果需要转 "),a("strong",[t._v("字符串")]),t._v(" 则先调用"),a("code",[t._v("toSting")]),t._v("方法，如果此时是 "),a("strong",[t._v("原始类型")]),t._v(" 则直接返回，否则再调用"),a("code",[t._v("valueOf")]),t._v("方法并返回结果；")]),t._v(" "),a("li",[t._v("如果不是 "),a("strong",[t._v("字符串")]),t._v("，则先调用"),a("code",[t._v("valueOf")]),t._v("方法，如果此时是 "),a("strong",[t._v("原始类型")]),t._v(" 则直接返回，否则再调用"),a("code",[t._v("toString")]),t._v("方法并返回结果；")]),t._v(" "),a("li",[t._v("如果都没有 "),a("strong",[t._v("原始类型")]),t._v(" 返回，则抛出 "),a("strong",[t._v("TypeError")]),t._v("类型错误。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当然，我们可以通过重写"),s("code",[this._v("Symbol.toPrimitive")]),this._v("来制定转换规则，此方法在转原始类型时调用优先级最高。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 下面例子来自YCK的小册")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("valueOf")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("toString")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toPrimitive"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndata "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"转换为布尔值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#转换为布尔值","aria-hidden":"true"}},[this._v("#")]),this._v(" 转换为布尔值")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("参数类型")]),t._v(" "),a("th",[t._v("结果")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Undefined")]),t._v(" "),a("td",[t._v("返回 "),a("code",[t._v("false")]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("Null")]),t._v(" "),a("td",[t._v("返回 "),a("code",[t._v("false")]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("返回 当前参数。")])]),t._v(" "),a("tr",[a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("如果参数为"),a("code",[t._v("+0")]),t._v("、"),a("code",[t._v("-0")]),t._v("或"),a("code",[t._v("NaN")]),t._v("，则返回 "),a("code",[t._v("false")]),t._v("；其他情况则返回 "),a("code",[t._v("true")]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("String")]),t._v(" "),a("td",[t._v("如果参数为空字符串，则返回 "),a("code",[t._v("false")]),t._v("；否则返回 "),a("code",[t._v("true")]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("Symbol")]),t._v(" "),a("td",[t._v("返回 "),a("code",[t._v("true")]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("返回 "),a("code",[t._v("true")]),t._v("。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"转换为数字"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#转换为数字","aria-hidden":"true"}},[this._v("#")]),this._v(" 转换为数字")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("参数类型")]),t._v(" "),a("th",[t._v("结果")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Undefined")]),t._v(" "),a("td",[t._v("返回 "),a("code",[t._v("NaN")]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("Null")]),t._v(" "),a("td",[t._v("Return +0.")])]),t._v(" "),a("tr",[a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("如果参数为 "),a("code",[t._v("true")]),t._v("，则返回 "),a("code",[t._v("1")]),t._v("；"),a("code",[t._v("false")]),t._v("则返回 "),a("code",[t._v("+0")]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("返回当前参数。")])]),t._v(" "),a("tr",[a("td",[t._v("String")]),t._v(" "),a("td",[t._v("先调用 "),a("strong",[t._v("ToPrimitive")]),t._v("，再调用 "),a("strong",[t._v("ToNumber")]),t._v("，然后返回结果。")])]),t._v(" "),a("tr",[a("td",[t._v("Symbol")]),t._v(" "),a("td",[t._v("抛出 "),a("code",[t._v("TypeError")]),t._v("错误。")])]),t._v(" "),a("tr",[a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("先调用 "),a("strong",[t._v("ToPrimitive")]),t._v("，再调用 "),a("strong",[t._v("ToNumber")]),t._v("，然后返回结果。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"转换为字符串"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#转换为字符串","aria-hidden":"true"}},[this._v("#")]),this._v(" 转换为字符串")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("参数类型")]),t._v(" "),a("th",[t._v("结果")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Undefined")]),t._v(" "),a("td",[t._v("返回 "),a("code",[t._v('"undefined"')]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("Null")]),t._v(" "),a("td",[t._v("返回 "),a("code",[t._v('"null"')]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("如果参数为 "),a("code",[t._v("true")]),t._v(" ,则返回 "),a("code",[t._v('"true"')]),t._v("；否则返回 "),a("code",[t._v('"false"')]),t._v("。")])]),t._v(" "),a("tr",[a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("调用 "),a("strong",[t._v("NumberToString")]),t._v("，然后返回结果。")])]),t._v(" "),a("tr",[a("td",[t._v("String")]),t._v(" "),a("td",[t._v("返回 当前参数。")])]),t._v(" "),a("tr",[a("td",[t._v("Symbol")]),t._v(" "),a("td",[t._v("抛出 "),a("code",[t._v("TypeError")]),t._v("错误。")])]),t._v(" "),a("tr",[a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("先调用 "),a("strong",[t._v("ToPrimitive")]),t._v("，再调用 "),a("strong",[t._v("ToString")]),t._v("，然后返回结果。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"数组的类型转换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数组的类型转换","aria-hidden":"true"}},[this._v("#")]),this._v(" 数组的类型转换")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("a"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "1,2,3[object Object]"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "1,2,31"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "1,2,3true"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" undefined "),a("span",{attrs:{class:"token comment"}},[t._v('// "1,2,3undefined"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "1,2,3null"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'123'")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "1,2,3123"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'biu'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "Uncaught TypeError"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("所以各位是否理解上述隐式转换的答案呢？")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"关于api使用的一些经验与思考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于api使用的一些经验与思考","aria-hidden":"true"}},[this._v("#")]),this._v(" 关于API使用的一些经验与思考")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("JS数组自带了很多的方法，在现代工程化数据驱动的理念下，这些方法都是非常重要的。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"loops"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loops","aria-hidden":"true"}},[this._v("#")]),this._v(" loops")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("forEach")]),t._v("是 "),a("strong",[t._v("Array")]),t._v(" 方法中比较基本的一个，作用也很简单，与"),a("code",[t._v("for")]),t._v("，就是遍历，循环。不同的是，"),a("code",[t._v("forEach")]),t._v("可以选择自定义上下文环境。例子如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr1 "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("；\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr2 "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("5")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("6")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("7")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("；\narr1"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("forEach")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// this为arr2")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arr2"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("但是如果"),s("code",[this._v("forEach")]),this._v("的回调函数是用箭头函数定义的，那么就无法改变它原本指向的上下文环境。例子如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr1 "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("；\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr2 "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("5")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("6")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("7")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("；\narr1"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("forEach")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// this为window对象")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arr2"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("\x3c!--\n点击当前li时，当前li文字变色，其余兄弟li变回默认颜色\n--\x3e")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("2"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("3"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("3"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("4"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("4"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("5"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("5"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}},[t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v("'use strict'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ul "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ul'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ul"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onClick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" event "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" cls "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        ul"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("querySelectorAll")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("forEach")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            el"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" el"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'#FFF'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'#FF0'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在ES6以前的环境中，如果直接用"),s("code",[this._v("for")]),this._v("循环，会出现只能获取到最后一个元素的问题，但是用"),s("code",[this._v("forEach")]),this._v("则没有这个问题。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"reduce"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reduce","aria-hidden":"true"}},[this._v("#")]),this._v(" reduce")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Array")]),this._v(" ES5 API "),s("code",[this._v("reduce")]),this._v("跟"),s("code",[this._v("reduceRight")]),this._v("，可以轻松实现并归元素的功能，例子如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    a"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    b"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    c"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),t._v("\n    "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" newArr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'a,b,c,d,e,f'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("split")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("','")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("reduce")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("acc"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cur"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" idx"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" o "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("call")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("acc"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'[object Object]'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        o"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cur"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" idx"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" newO "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        newO"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cur"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" idx"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        o "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("acc"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("newO"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" o"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'a'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#性能","aria-hidden":"true"}},[this._v("#")]),this._v(" 性能")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("上面演示了通过JS数组API实现的一些功能，所以与"),s("code",[this._v("for")]),this._v("循环比性能如何呢？")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Array")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("100")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \narr"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("forEach")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  \n"),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" arr"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("++")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在公布结果之前，其实网上一直流传着"),s("strong",[this._v("for循环性能比forEach性能好，考虑性能少用forEach")]),this._v("的言论，其实以前的浏览器也是这种情况。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("性能对比如下：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以下代码测试环境为："),s("strong",[this._v("Chrome 55.0.2883 / Windows 7 0.0.0")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以下代码测试环境为："),s("strong",[this._v("Chrome 73.0.3683 / Windows 10 0.0.0")])])}],!1,null,null,null);s.default=r.exports}}]);
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>我和我亲爱的祖国（用CSS来为祖国母亲庆生） | 鱼头的Web海洋</title>
    <meta name="description" content="让你的Web学习如同玩耍在海洋一样快乐" />
    <link rel="icon" href="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/base/blogfavicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.a57752fc.css" as="style"><link rel="preload" href="/assets/js/app.ac265142.js" as="script"><link rel="preload" href="/assets/js/35.49b5285c.js" as="script"><link rel="prefetch" href="/assets/js/18.a48f8075.js"><link rel="prefetch" href="/assets/js/2.ee28eecc.js"><link rel="prefetch" href="/assets/js/3.107d2854.js"><link rel="prefetch" href="/assets/js/4.0bc6764a.js"><link rel="prefetch" href="/assets/js/5.373cc625.js"><link rel="prefetch" href="/assets/js/6.c8c69fdc.js"><link rel="prefetch" href="/assets/js/7.ce3e1a47.js"><link rel="prefetch" href="/assets/js/8.5637ce93.js"><link rel="prefetch" href="/assets/js/9.9adb8b39.js"><link rel="prefetch" href="/assets/js/10.124013aa.js"><link rel="prefetch" href="/assets/js/11.23af6432.js"><link rel="prefetch" href="/assets/js/12.744b9a6d.js"><link rel="prefetch" href="/assets/js/13.6c4936b3.js"><link rel="prefetch" href="/assets/js/14.a1a9539d.js"><link rel="prefetch" href="/assets/js/15.b4bafa42.js"><link rel="prefetch" href="/assets/js/16.aa208852.js"><link rel="prefetch" href="/assets/js/17.185fde70.js"><link rel="prefetch" href="/assets/js/19.bee79bfe.js"><link rel="prefetch" href="/assets/js/20.fa7fdb2e.js"><link rel="prefetch" href="/assets/js/21.56ac4292.js"><link rel="prefetch" href="/assets/js/22.811a01c3.js"><link rel="prefetch" href="/assets/js/23.ce7665de.js"><link rel="prefetch" href="/assets/js/24.0d3190c6.js"><link rel="prefetch" href="/assets/js/25.840592a0.js"><link rel="prefetch" href="/assets/js/26.b5a78a0b.js"><link rel="prefetch" href="/assets/js/27.f06c2b81.js"><link rel="prefetch" href="/assets/js/28.c86d9301.js"><link rel="prefetch" href="/assets/js/29.2b3bf1fe.js"><link rel="prefetch" href="/assets/js/30.83cb4ea8.js"><link rel="prefetch" href="/assets/js/31.57ac4bd1.js"><link rel="prefetch" href="/assets/js/32.f75dbc0f.js"><link rel="prefetch" href="/assets/js/33.537cee41.js"><link rel="prefetch" href="/assets/js/34.84b0d1ce.js"><link rel="prefetch" href="/assets/js/36.f6633375.js"><link rel="prefetch" href="/assets/js/37.78811184.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a57752fc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">鱼头的Web海洋</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!----> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>我和我亲爱的祖国（用CSS来为祖国母亲庆生）</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/others/chinese.html#从辉煌到屈辱" class="sidebar-link">从辉煌到屈辱</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/others/chinese.html#思路拆分" class="sidebar-link">思路拆分</a></li><li class="sidebar-sub-header"><a href="/others/chinese.html#clip-path" class="sidebar-link">clip-path</a></li></ul></li><li><a href="/others/chinese.html#从弱小到强大" class="sidebar-link">从弱小到强大</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/others/chinese.html#具体属性" class="sidebar-link">具体属性</a></li><li class="sidebar-sub-header"><a href="/others/chinese.html#代码实现" class="sidebar-link">代码实现</a></li><li class="sidebar-sub-header"><a href="/others/chinese.html#svg版本的红旗" class="sidebar-link">SVG版本的红旗</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="我和我亲爱的祖国（用css来为祖国母亲庆生）"><a href="#我和我亲爱的祖国（用css来为祖国母亲庆生）" aria-hidden="true" class="header-anchor">#</a> 我和我亲爱的祖国（用CSS来为祖国母亲庆生）</h1> <blockquote><ul><li>作者：陈大鱼头</li> <li>github： <a href="https://github.com/KRISACHAN" target="_blank" rel="noopener noreferrer">KRISACHAN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <p>“我和我的祖国一刻也不能分割，无论我走到哪里都流出一首赞歌。”</p> <p>相信大家最近已经被 <strong>《我和我的祖国》</strong> 这首歌给刷屏了，鱼头每次在听到这首歌的时候，总会感慨万千，我们伟大的新中国，这70年真的经历了太多太多了。</p> <p>但是就是在一代又一代的人不懈的努力下，如今的中国，已经成为了各个国家，乃至西方列强所无法忽视的强大存在。</p> <h2 id="从辉煌到屈辱"><a href="#从辉煌到屈辱" aria-hidden="true" class="header-anchor">#</a> 从辉煌到屈辱</h2> <p>中国是世界上文明发达最早的国家之一，有将近5000年的有文字可考的历史。</p> <p>曾经，西汉开辟了丝绸之路，通过丝绸连接了从古都长安到罗马帝国这条路上的各个国家；</p> <p>曾经，成吉思汗和他的后代，从公元1205年起，先后灭掉了西夏和金朝，然后又征服了中亚、西亚和亚洲西部的许多国家，一直打到欧洲的多瑙河畔。</p> <p>但是，从1840年 <strong>第一次鸦片战争</strong> 开始，中国受了将近100年的屈辱。</p> <p>从1840年鸦片战争到1919年五四运动前夕的旧民主主义革命阶段，</p> <p>从1919年五四运动到1949年中华人民共和国成立前夕的新民主主义革命阶段，</p> <p>我们经历了太多太多。</p> <p>曾经在1936年柏林奥运会69人的代表团因全军覆没，途经新加坡时，被当地报刊讽刺为 <strong>“东亚病夫”</strong> 。就如同下面的GIF一样，残缺，破损。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/others/chinese/dybf.gif" alt="dybf"></p> <p>上面GIF的风格被称之为是“故障风(Glitch Effect)”，是近期比较流行的一种设计风格。所以是怎么实现的呢？</p> <h3 id="思路拆分"><a href="#思路拆分" aria-hidden="true" class="header-anchor">#</a> 思路拆分</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
    <span class="token selector">.ge-text</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 72px<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
        <span class="token property">letter-spacing</span><span class="token punctuation">:</span> 0.01em<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale3d</span><span class="token punctuation">(</span>1, 1, 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 10px 20px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right, #232526, #414345<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.ge-text::before, .ge-text::after</span> <span class="token punctuation">{</span>
        <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">attr</span><span class="token punctuation">(</span>aria-title<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right, #232526, #414345<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span>79px 50px 43px 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.ge-text::before</span> <span class="token punctuation">{</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 7px<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> glitch-effect 3s infinite linear alternate-reverse<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.ge-text::after</span> <span class="token punctuation">{</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> glitch-effect 2s infinite linear alternate-reverse<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token atrule"><span class="token rule">@keyframes</span> glitch-effect</span> <span class="token punctuation">{</span>
        <span class="token selector">0%</span> <span class="token punctuation">{</span>
          <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span>4px 50px 61px 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">5%</span> <span class="token punctuation">{</span>
          <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span>99px 50px 30px 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">...（省略了不同百分比下的的值）
        95%</span> <span class="token punctuation">{</span>
          <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span>7px 50px 59px 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">100%</span> <span class="token punctuation">{</span>
          <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span>79px 50px 43px 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>glitch-effect<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ge-text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>东亚病夫<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>东亚病夫<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>（重复代码太多，就不全部放出来了，具体实现可以看我的<a href="https://codepen.io/krischan77/pen/QWLRjpN" target="_blank" rel="noopener noreferrer">codepen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）</p> <p>我们看上面的GIF，不难发现所谓的故障风就是相同图形不同的位置跳动。只是都是浮在正常图形之上的跳动，所以看起来有物体故障的感觉，抖音的LOGO GIF就是这么个操作。</p> <p>既然知道这一点，我们第一步就是做三个一模一样，但是位置不同的图形了。</p> <p>上述DEMO我是用了<code>::before</code>跟<code>::after</code>，当然，重复的图形，你可以只用一个，或者多个都可以，随你喜欢，就看你喜欢怎样的故障了。</p> <p>之后的核心就是<code>clip-path: inset</code>跟<code>@keyframes</code>的配合。</p> <h3 id="clip-path"><a href="#clip-path" aria-hidden="true" class="header-anchor">#</a> clip-path</h3> <p><code>clip-path</code> 可以引入或者创建一个指定裁剪区域的强大属性，它在代替了已经弃用的<code>clip</code>属性的同时还多了需要有趣的功能。</p> <p>本文不打算详细讲解这个属性，有兴趣的可以通过<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/basic-shape" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或者 <a href="https://www.html.cn/tool/css-clip-path/" target="_blank" rel="noopener noreferrer">CSS clip-path 生成器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来深入了解。</p> <p>clip-path主要由以下4个可选函数：</p> <table><thead><tr><th>函数</th> <th>作用</th></tr></thead> <tbody><tr><td><code>clip-path: inset( &lt;shape-arg&gt;{1,4} [round &lt;border-radius&gt;]? )</code></td> <td>用于定义裁剪的矩形区域</td></tr> <tr><td><code>clip-path: circle( [&lt;shape-radius&gt;]? [at &lt;position&gt;]? )</code></td> <td>用于定义裁剪的圆形区域</td></tr> <tr><td><code>clip-path: ellipse( [&lt;shape-radius&gt;{2}]? [at &lt;position&gt;]? )</code></td> <td>用于定义裁剪的椭圆区域</td></tr> <tr><td><code>clip-path: polygon( [&lt;fill-rule&gt;,]? [&lt;shape-arg&gt; &lt;shape-arg&gt;]# )</code></td> <td>用于定义裁剪的多边形区域</td></tr></tbody></table> <p>下面图示便是用 <code>clip-path: polygon</code> 所画出来的。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/others/chinese/clipy.png" alt="clipy"></p> <p>图片来自<a href="https://www.html.cn/tool/css-clip-path/" target="_blank" rel="noopener noreferrer">CSS clip-path 生成器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>那么我们的故障风该如何画呢？</p> <p>首先我们来看看<code>clip-path: inset</code>不同值的状态。</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/others/chinese/dybf1.gif" alt="clipy1"></p> <p>上面随手输入了几组值，我们不难发现，不同的值所裁剪的区域是不一样的，这个时候只要我们用<code>::before</code>跟<code>::after</code>去做这个变动的处理，然后给它们各自加上不同的<code>left</code>值，则会有最上面的效果。</p> <h2 id="从弱小到强大"><a href="#从弱小到强大" aria-hidden="true" class="header-anchor">#</a> 从弱小到强大</h2> <p>从东亚病夫，到金砖四国，再到国家GDP排名全世界前三；</p> <p>从开国大典红旗冉冉升起，到第一科原子弹爆炸成功，到97香港回归，再到08年奥运会，再到如今，中国经历了太多太多。</p> <p>所以时常在听到国歌，看到国旗的时候，心里总会百感交集。</p> <p>说起国旗，我们不来尝试下用代码来画个五星红旗吗？</p> <h3 id="具体属性"><a href="#具体属性" aria-hidden="true" class="header-anchor">#</a> 具体属性</h3> <p>首先我们要知道，国旗是五星红旗，旗面为红色，长宽比例为3:2。左上方缀黄色五角星五颗，四颗小星（其外接圆直径为旗高1/10）环拱在一颗大星（其外接圆直径为旗高3/10）的右面，并各有一个角尖正对大星的中心点。</p> <p>通用尺寸有以下五种：</p> <ol><li>长288厘米，高192厘米；</li> <li>长240厘米，高160厘米；</li> <li>长192厘米，高128厘米；</li> <li>长144厘米，高96厘米；</li> <li>长96厘米，高64厘米。</li></ol> <p>国旗墨线图如下：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/others/chinese/flag.png" alt="flag"></p> <p>知道这个之后我们就可以按照上述的比例去做一画一个五星红旗出来，效果如下：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/others/chinese/flag.gif" alt="flag"></p> <p>此效果DEMO核心实现灵感来自此文：<a href="https://my.oschina.net/codingDog/blog/1839097" target="_blank" rel="noopener noreferrer">前端实现旗帜飘动效果系列 (Ⅰ)：dom+css实现<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，有兴趣的可以去看看原文。</p> <h3 id="代码实现"><a href="#代码实现" aria-hidden="true" class="header-anchor">#</a> 代码实现</h3> <p>所以该如何实现上述红旗飘飘的功能呢？</p> <p>首先我们来看伪代码</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
    <span class="token selector">*</span> <span class="token punctuation">{</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">html,
    body</span> <span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">li</span> <span class="token punctuation">{</span>
        <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.flag</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> wave ease-in-out infinite<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.flag &gt; li</span> <span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(&quot;flag.jpg&quot;)</span><span class="token punctuation">;</span>
        <span class="token property">background-size</span><span class="token punctuation">:</span> auto 100%<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> flag ease-in-out infinite<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>flag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>flag<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token string">'use strict'</span>
    <span class="token keyword">const</span> flag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#flag'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    image<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'flag.jpg'</span>
    <span class="token keyword">const</span> flagWidth <span class="token operator">=</span> <span class="token number">800</span>
    <span class="token keyword">const</span> flagHeight <span class="token operator">=</span> <span class="token number">640</span>
    <span class="token keyword">let</span> imgWidth <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">let</span> imgHeight <span class="token operator">=</span> <span class="token string">''</span>
     <span class="token comment">/**
       * @func
       * @name 分割图片
       * @param sliceCount 切片数量
       * @param amplitude 振幅
       * @param period 固定周期个数
       * @param duration 一个周期的时长
       */</span>
    <span class="token keyword">const</span> <span class="token function-variable function">imgRender</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        sliceCount <span class="token operator">=</span> <span class="token number">70</span><span class="token punctuation">,</span>
        amplitude <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span>
        period <span class="token operator">=</span> <span class="token number">1.5</span><span class="token punctuation">,</span>
        duration <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* 具体生成红旗DOM片段的逻辑 */</span><span class="token punctuation">}</span>
    image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        imgWidth <span class="token operator">=</span> image<span class="token punctuation">.</span>width
        imgHeight <span class="token operator">=</span> image<span class="token punctuation">.</span>height
        <span class="token keyword">const</span> ratio <span class="token operator">=</span> image<span class="token punctuation">.</span>width <span class="token operator">/</span> image<span class="token punctuation">.</span>height
        <span class="token keyword">if</span> <span class="token punctuation">(</span>imgWidth <span class="token operator">&gt;</span> flagWidth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            imgWidth <span class="token operator">=</span> flagWidth
            imgHeight <span class="token operator">=</span> imgWidth <span class="token operator">/</span> ratio
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>imgHeight <span class="token operator">&gt;</span> flagHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            imgWidth <span class="token operator">=</span> imgHeight <span class="token operator">*</span> ratio
            imgHeight <span class="token operator">=</span> flagHeight
        <span class="token punctuation">}</span>
        flag<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> imgWidth <span class="token operator">+</span> <span class="token string">'px'</span>
        flag<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> imgHeight <span class="token operator">+</span> <span class="token string">'px'</span>
        flag<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> <span class="token operator">-</span>imgWidth <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">'px'</span>
        flag<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token operator">-</span>imgHeight <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">'px'</span>
        <span class="token function">imgRender</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            sliceCount<span class="token punctuation">:</span> <span class="token number">70</span><span class="token punctuation">,</span>
            amplitude<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            period<span class="token punctuation">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span>
            duration<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>所添加的 <strong><code>imgRender</code></strong> 究竟做了什么？</p> <p>如果你们知道什么是 <strong>雪碧图(CSS Sprite)</strong> ，这个应该就好理解了，在 <strong>HTTP1</strong> 的时代里， <strong>雪碧图(CSS Sprite)</strong> 是一个很常见的技术概念，由于译名的原因，也有人叫它CSS精灵，是一种CSS图像合并技术，该方法是将小图标和背景图像合并到一张图片上，然后利用css的背景定位来显示需要显示的图片部分。</p> <p>CSS雪碧的基本原理是把你的网站上用到的一些图片整合到一张单独的图片中，然后使用CSS <code>background</code> 和 <code>background-position</code> 属性渲染。</p> <p>所以  <strong><code>imgRender</code></strong>  就是做了这么一件事，将红旗图片按等分切割出来，然后进行循环，生成 <strong><code>sliceCount</code></strong> 量的DOM节点，然后添加<code>background-position</code>，这时候的<code>background-position</code>值是跟循环到的下标有关的，具体逻辑其实可以按需去改，之后就是动画属性的配置了。</p> <p>具体实现可以看鱼头的<a href="https://codepen.io/krischan77/pen/WNeqOeB" target="_blank" rel="noopener noreferrer">CODEPEN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h3 id="svg版本的红旗"><a href="#svg版本的红旗" aria-hidden="true" class="header-anchor">#</a> SVG版本的红旗</h3> <p>我们实现了CSS版的五星红旗，那么现在就让我们来实现一次SVG版本的。</p> <p>用SVG去处理一些复杂的图案是非常轻松的，我们只需要知道路径，就可以对它进行操作。</p> <p>当然我们该怎么知道路径？这可以让我们的UI设计师从AI中导出SVG，或者去<a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer">https://www.iconfont.cn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>找也可以，之后我们就可以做我们想做的操作了。</p> <p>如果我们要画上面的红旗，也非常简单。</p> <p>这里直接上代码：</p> <div class="language-svg extra-class"><pre class="language-svg"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2000/svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xlink</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/1999/xlink<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>900<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>600<span class="token punctuation">&quot;</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0 0 30 20<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#ffde00<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#de2910<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(5,5) scale(3)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(10,2) rotate(23.036243)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(12,4) rotate(45.869898)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(12,7) rotate(69.945396)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(10,9) rotate(20.659808)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>从上面我们不难看出，这个五星红旗只需要定义一个红色画布，一个星星的轮廓，然后use进去之后给定不同的位置就可以了。</p> <p>效果如下：</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/others/chinese/Flag_of_the_People's_Republic_of_China.svg" alt="Hongqi"></p> <p>“五星红旗，你是我的骄傲；五星红旗，我为你自豪；为你欢呼，我为你祝福；你的名字，比我生命更重要；”</p> <p>写到这里的时候，脑子自动响起了红旗飘飘的旋律。祝愿祖国越来越强盛，也祝大家国庆节快乐。</p> <p>如果你喜欢探讨技术，或者对本文有任何的意见或建议，非常欢迎加鱼头微信好友一起探讨，当然，鱼头也非常希望能跟你一起聊生活，聊爱好，谈天说地。 鱼头的微信号是：krisChans95 也可以扫码添加好友，备注“博客”就行</p> <p><img src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/wx-qrcode1.jpg" alt="wx-qrcode"></p></div> <div class="page-footer content">
    网站备案号：粤ICP备17113436号-1
  </div> <!----> <div class="right-group"><div class="item"><span class="title">加入前端鱼塘</span> <span class="desc">
        扫描二维码回复
        <span class="inner">加群</span> 学习
      </span> <img width="100%" src="https://fish-pond-1253945200.cos.ap-guangzhou.myqcloud.com/img/base/wx-qrcode.jpg"></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <div></div></div></div>
    <script src="/assets/js/35.49b5285c.js" defer></script><script src="/assets/js/app.ac265142.js" defer></script>
    <!-- Hotjar Tracking Code for yuchengkai.cn -->
    <script>
      var _hmt = _hmt || []
      ;(function() {
        var hm = document.createElement('script')
        hm.src = 'https://hm.baidu.com/hm.js?52ee35894430604d0d3ce3b9c089adf9'
        var s = document.getElementsByTagName('script')[0]
        s.parentNode.insertBefore(hm, s)
      })()
    </script>
  </body>
</html>
